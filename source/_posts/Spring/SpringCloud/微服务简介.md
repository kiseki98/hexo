---
title: 微服务简介
date: 2022/5/20 10:46:25
tags:
- SpringCloud
- 微服务
categories:
- [Spring, SpringCloud]
description: 微服务简介
---

# 微服务特点

![Image](https://img-1301279461.cos.ap-nanjing.myqcloud.com/img/Image-1620898299918.png)

1. **单一职责**：每个微服务职责单一，对应唯一的业务
2. **组件化**：可以单独升级或更换组件，拆分粒度小
3. **面向服务**：每个服务暴露 Rest 接口，不关心语言技术
4. **自治**：每个服务间独立，互不干扰

# 服务调用方式

1. RPC：Remote Produce Call 远程过程调用，相似还有 RMI，自定义数据格式，基于 TCP 协议，速度快，效率高，限定技术。代表：dubbo，webservice
2. HTTP：基于 HTTP（TCP的高级协议），规定数据格式，对服务提供和调用没有技术限制，自由灵活更适合微服务理念，但是数消息封装臃肿

# 为什么要使用微服务
## 微服务的优点
1. 服务规模小，易于维护 
2. 服务可以单独部署 
3. 服务独立且可以扩展 
4. 微服务架构使团队能够自治，独自开发自己的服务 
5. 它允许简单的试验和采用新技术 
6. 具有较好的故障隔离能力

## 微服务的缺点
1. 单个微服务代码少、易，但系统复杂度不变，维护微服务过多，服务治理成本高，不利于系统维护
2. 集群之间高效的通信机制也是一个问题
3. 分布式系统开发的技术成本高（容错、分布式事务等）

## 单体服务的优点
1. 所有的功能集成在一个项目工程中，没有分布式管理和开发开销
2. 项目架构简单，前期开发成本低，周期短，小型项目的首选

## 单体服务的缺点
1. 全部功能集成在一个工程中，对于大型项目不易开发、扩展及维护 
2. 系统性能扩展只能通过扩展集群结点，成本高、有瓶颈 
3. 项目复杂：新人上手难度大 
4. 开发效率低：项目臃肿，每次编译构建运行测试，后很费时间 
5. 代码维护难：代码耦合度比较高 
6. 部署不灵活：构建时间长，一点小修改都要重新构建 
7. 稳定性不高：可能因为一个地方的问题导致整个系统不可用，参考微服务的熔断和降级 
8. 不易扩展：不同功能对性能要求不同，有的要求内存，有的要求 CPU 性能 
9. 技术栈不易扩展：项目不易扩展 
10. 扩展性不够：无法满足高并发需求

## 单体服务也能搭建集群为什么要使用微服务呢？
1. 单体项目庞大，编译慢
2. 开发效率低