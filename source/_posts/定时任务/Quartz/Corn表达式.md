---
title: Corn表达式
date: 2022/7/11 20:16:25
tags:
- 定时任务
- Quartz
categories:
- [定时任务, Quartz]
description: Corn表达式
---

# Cron表达式

## 字段释义

```cron
0 0/5 * * * ？
秒 分 时 天(月) 月 天(周) 年份(一般省略)
```

## 符号释义

1. `*`：表示所有可能的值
2. `/`：表示数值的增量，简单来说，比如分写上`0/5`表示从0分开始，每隔5分钟
3. `?`：仅用在天(月)和天(周)，表示不指定值，当其中一个有值时，另外一个需要设为`?`

## 字段允许字符

### 秒、分、时

1. `如`：`0-59` `,` `-` `*` `/`下面用秒解释
2. `26`：表示第`26`秒
3. `5,16,27`：表示第`5`秒、第`16`秒和第`27`秒
4. `1-5`：表示从`1`秒到`5`秒，就是`1 2 3 4 5` 秒
5. `*`：表示每一秒
6. `2/15`：表示从第`2`秒开始，每隔`15`秒，就是`2 17 32 47` 秒

### 天（月）

1. 如：`1-31` `,` `-` `*` `/` `?` `L` `W` `C`
2. 31：表示`31`号（注意有的月份是没有`31`号的）
3. `5,10,15`：表示`5`号、`10`号和`15`号
4. `8-17`：表示`8`号到`17`号
5. `*`：表示所有可能的值（当指定为星号时，天（周）需指定为`?`）
6. `5/9`：表示从`5`号开始，每隔`9`天
7. `?`：当天（周）指定任意值的时候，天（月）需要设置为`?`
8. `L`：表示一个月中的最后一天
9. `6L`：表示倒数第`6`天
10. `15W`：`W`指工作日，如果`15`号不是周六日，则表示`15`号当天；如果`15`号是周六，则表示`14`号；如果`15`号是周日，则表示`16`号；如果`31W`是周日，则`31W`表示`29`号（周五），不会跨月
11. `LW`：指最后一个工作日
12. `15C`：表示第`15`天（不是很明白这个，使用`15`和`15C`貌似效果相同？）

### 月

1. `如`：`1-12` `,` `-` `*` `/`
2. `10`：表示`10`月份
3. `5,10,11`：表示`5`月份、`10`月份和`11`月份
4. `4-8`：表示`4`月份到`8`月份
5. `*`：表示所有可能的值
6. `5/2`：表示从`5`月份开始，每隔`2`个月，（就是`5 7 9 11` 次年`5` 次年`7` 次年`9......`）
7. `1-12`：也可以用`JAN-DEC`表示

### 天（周）

1. `如`：`MON-SAT` `,` `-` `*` `/` `?` `L` `C` `#`
2. `MON`：表示周一
3. `MON,TUE,FRI`：表示周一，周二和周五
4. `MON-FRI`：表示从周一到周五
5. `MON-WED,SAT`：表示从周一到周三，和周六（就是周一、周二、周三和周六）
6. `7L`：表示月最后一个周六（效果等同于`SATL`）（`L`表示`last`最后的意思，`7`表示周六，`6`表示周五，类推，`1`表示周日）
7. `6C`：表示周五以及之后包含周五的日期（感觉效果FRI一样，具体还没深究）
8. `7#2`：表示第二个周六（`#`前面的数字表示星期，`1`表示周日，`2`表示周一，以此类推；`#`后面的数字表示第几个）

### 年（留空）

1. 如：`留空` `2020-2099` `,` `-` `*` `/`
2. `2050`：表示`2050`年
3. `2020,2030,2040`：表示`2020`年、`2030`年和`2040`年
4. `2020-2030`：表示`2020`年到`2030`年
5. `*`：表示所有可能的值
6. `2020/10`：表示从`2020`年开始，每隔`10`年，（就是`2020,2030,2040......`）

### 举例说明

```cron
"0 0 12 * * ?" 每天中午12点触发 
"0 15 10 ? * *" 每天上午10:15触发 
"0 15 10 * * ?" 每天上午10:15触发 
"0 15 10 * * ? *" 每天上午10:15触发 
"0 15 10 * * ? 2005" 2005年的每天上午10:15触发 
"0 * 14 * * ?" 在每天下午2点到下午2:59期间的每1分钟触发 
"0 0/5 14 * * ?" 在每天下午2点到下午2:55期间的每5分钟触发 
"0 0/5 14,18 * * ?" 在每天下午2点到2:55期间和下午6点到6:55期间的每5分钟触发 
"0 0-5 14 * * ?" 在每天下午2点到下午2:05期间的每1分钟触发 
"0 10,44 14 ? 3 WED" 每年三月的星期三的下午2:10和2:44触发 
"0 15 10 ? * MON-FRI" 周一至周五的上午10:15触发 
"0 15 10 15 * ?" 每月15日上午10:15触发 
"0 15 10 L * ?" 每月最后一日的上午10:15触发 
"0 15 10 ? * 6L" 每月的最后一个星期五上午10:15触发 
"0 15 10 ? * 6L 2002-2005" 2002年至2005年的每月的最后一个星期五上午10:15触发 
"0 15 10 ? * 6#3" 每月的第三个星期五上午10:15触发 
```

